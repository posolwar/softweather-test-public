# softweather-test
Тестовое задание Golang от компании softweather

## Условие
Надо создать API для арифметических операций с цифрами.

API должно быть доступно только если в HTTP Header есть “User-Access”
со значением “superuser”. В случае отказа в доступе, нужно вывести
сообщение в консоли и отправить соответствующий ответ клиенту.
Должны поддерживаться только операции сложения и вычитания.

## Пример
С Frontend-а к тебе приходит “2+2-3-5+1”. В ответ ты должен
отправить JSON со статусом 200, в котором будет поле с ответом (в данном
случае это -3).

# Моё решение
## Мои мысли
1. Я обычно использую GIN, но на собесах просят не использовать сторонние пакеты, поэтому пишу на дефолтном http. 
2. Путь передачи сообщения? 
 -- url params
 -- json body
Выбираю json body, с ним удобнее проще работать
3. Калькуляция:
Не задано ограничение по длине строки, хочу читать строку лишь единожды, т.е. по мере чтения определять что за символ с которым я работаю и как на него реагировать...
4. Проверка на user-access:
Ну тут очевидная выкладка в middlewares

## Пример вызова задачи
curl --location 'http://127.0.0.1:8080/api/v1/math' \
--header 'User-Access: superuser' \
--header 'Content-Type: application/json' \
--data '{
    "expr":"2+2-3-5+1"
}   '

## Пример ответа
-3